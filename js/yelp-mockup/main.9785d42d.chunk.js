(this.webpackJsonpyelpclone=this.webpackJsonpyelpclone||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(2),a=s.n(n),i=s(8),r=s.n(i),l=(s(14),s(3)),o=s(4),h=s(1),u=s(6),d=s(5),j=(s(15),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).rating=c.rating.bind(Object(h.a)(c)),c}return Object(o.a)(s,[{key:"rating",value:function(e){return this.props.rating-e===.5?{background:"linear-gradient(to right, ".concat(this.props.rating>4?"#ff523d":"#ff9242","\n                 50%, rgb(206, 201, 201) 0%)")}:this.props.rating>e?{backgroundColor:this.props.rating>=4?"#ff523d":"#ff9242"}:void 0}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"rating-container",children:[Object(c.jsx)("div",{className:"box",style:this.rating(0),children:Object(c.jsx)("span",{className:"fa fa-star star"})}),Object(c.jsx)("div",{className:"box",style:this.rating(1),children:Object(c.jsx)("span",{className:"fa fa-star star"})}),Object(c.jsx)("div",{className:"box",style:this.rating(2),children:Object(c.jsx)("span",{className:"fa fa-star star"})}),Object(c.jsx)("div",{className:"box",style:this.rating(3),children:Object(c.jsx)("span",{className:"fa fa-star star"})}),Object(c.jsx)("div",{className:"box",style:this.rating(4),children:Object(c.jsx)("span",{className:"fa fa-star star"})})]})}}]),s}(a.a.Component)),b=(s(16),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"business-container",children:[Object(c.jsx)("div",{className:"business-image",children:Object(c.jsx)("a",{href:this.props.businessurl,children:Object(c.jsx)("img",{src:this.props.businesspic,alt:"",className:"image"})})}),Object(c.jsxs)("div",{className:"business-details",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h4",{className:"zero-margin",children:Object(c.jsx)("a",{className:"business-name",href:this.props.businessurl,children:this.props.businessname})})}),Object(c.jsxs)("div",{children:[Object(c.jsx)(j,{rating:this.props.businessrating})," ",this.props.businessrcount," review",1!==this.props.businessrcount?"s":""]}),Object(c.jsx)("div",{children:this.props.businesstitle.map((function(e){return Object(c.jsxs)("span",{children:[e.title," "]})}))}),Object(c.jsx)("div",{children:this.props.businessloc}),Object(c.jsx)("div",{})]})]})}}]),s}(a.a.Component)),p=(s(17),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"businessList-container",children:this.props.businesses?this.props.businesses.map((function(e){return Object(c.jsx)(b,{businessid:e.id,businessname:e.name,businessrating:e.rating,businessprice:e.price,businessrcount:e.reviewCount,businessloc:e.city,businesspic:e.imageSrc,businesstitle:e.category,businessurl:e.url})})):Object(c.jsx)("div",{children:"Sorry we could not find anything that matches this request. Please try again."})})}}]),s}(a.a.Component)),m="pk.622a845b4757d6cf38c5280a1c036797",O=function(e,t){return fetch("https://desolate-headland-35675.herokuapp.com/https://us1.locationiq.com/v1/reverse.php?key=".concat(m,"&lat=").concat(t,"&lon=").concat(e,"&format=json"),{headers:{Authorization:"Bearer ".concat(m)}}).then((function(e){if(e.ok)return e.json();throw new Error("Request was unsuccessful.")})).then((function(e){return e.address?e.address.city:null})).catch((function(e){console.log(e)}))},f=(s(18),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={term:"",location:"",termDisplay:"",locationDisplay:""},c.handleSearch=c.handleSearch.bind(Object(h.a)(c)),c.handleChange=c.handleChange.bind(Object(h.a)(c)),c.handleTermClick=c.handleTermClick.bind(Object(h.a)(c)),c.handleLocationClick=c.handleLocationClick.bind(Object(h.a)(c)),c.reverseGeocoding=c.reverseGeocoding.bind(Object(h.a)(c)),c.handleClick=c.handleClick.bind(Object(h.a)(c)),c.handleFocus=c.handleFocus.bind(Object(h.a)(c)),c}return Object(o.a)(s,[{key:"handleChange",value:function(e){switch(e.target.name){case"term":this.setState({term:e.target.value,termDisplay:"block"}),this.props.yelpAutocomplete(e.target.value);break;case"location":this.setState({location:e.target.value});break;default:console.log("Error!")}}},{key:"handleSearch",value:function(e){this.props.yelpSearch(this.state.term,this.state.location),e.preventDefault()}},{key:"handleTermClick",value:function(e){this.setState({term:e.target.value,termDisplay:"none"})}},{key:"handleLocationClick",value:function(){this.reverseGeocoding(this.props.longitude,this.props.latitude),this.setState({locationDisplay:"none"})}},{key:"reverseGeocoding",value:function(e,t){var s=this;e&&t?O(e,t).then((function(e){s.setState({location:e})}),(function(e){return console.log(e)})):alert("You need to grant acess to your location.")}},{key:"handleClick",value:function(e){"BUTTON"!==e.target.nodeName&&this.setState({termDisplay:"none",locationDisplay:"none"})}},{key:"handleFocus",value:function(e){switch(e.target.name){case"term":this.setState({termDisplay:"block"});break;case"location":this.setState({locationDisplay:"block"});break;default:console.log("There was an error.")}}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClick)}},{key:"componentDidUpdate",value:function(e){this.props.latitude!==e.latitude&&this.reverseGeocoding(this.props.longitude,this.props.latitude)}},{key:"render",value:function(){var e=this;return Object(c.jsx)("div",{children:Object(c.jsx)("form",{onSubmit:this.handleSearch,children:Object(c.jsxs)("label",{className:"label-background",children:[Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("span",{className:"span-background",children:"Find"}),Object(c.jsx)("input",{type:"text",name:"term",placeholder:"burgers, barbers, spas, handymen...",className:"input-background",onChange:this.handleChange,value:this.state.term,onFocus:this.handleFocus}),!this.state.term&&Object(c.jsx)("div",{className:"dropdown",style:{display:this.state.termDisplay},children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"dropdown-item",onClick:this.handleTermClick,value:"Restaurants",children:[Object(c.jsx)("i",{className:"fas fa-hamburger icon"}),"Restaurants"]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"dropdown-item",onClick:this.handleTermClick,value:"Delivery",children:[Object(c.jsx)("i",{className:"fas fa-truck icon"}),"Delivery"]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"dropdown-item",onClick:this.handleTermClick,value:"Takeout",children:[Object(c.jsx)("i",{className:"fas fa-shopping-bag icon"}),"Takeout"]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"dropdown-item",onClick:this.handleTermClick,value:"Accountants",children:[Object(c.jsx)("i",{className:"fas fa-calculator icon"}),"Accountants"]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"dropdown-item",onClick:this.handleTermClick,value:"Plumbers",children:[Object(c.jsx)("i",{className:"fa fa-bath icon"}),"Plumbers"]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"dropdown-item",onClick:this.handleTermClick,value:"Auto Repair",children:[Object(c.jsx)("i",{className:"fa fa-wrench icon"}),"Auto Repair"]})})]})}),Object(c.jsx)("div",{className:"dropdown",style:{display:this.state.termDisplay},children:Object(c.jsx)("ul",{children:this.props.termsList&&this.state.term?this.props.termsList.map((function(t){return Object(c.jsx)("li",{children:Object(c.jsx)("button",{className:"dropdown-item",onClick:e.handleTermClick,value:t.term,children:t.term})})})):null})})]}),Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("span",{className:"span-background near-span",children:"Near"}),Object(c.jsx)("input",{type:"text",value:this.state.location,name:"location",placeholder:"address, city...",className:"input-background",onChange:this.handleChange,onFocus:this.handleFocus}),Object(c.jsx)("div",{className:"dropdown dropdown-location",style:{display:this.state.locationDisplay},children:Object(c.jsxs)("button",{className:"dropdown-item",onClick:this.handleLocationClick,children:[Object(c.jsx)("i",{className:"fa fa-location-arrow icon"}),"Current Location"]})})]}),Object(c.jsx)("button",{type:"submit",className:"submit-button",children:Object(c.jsx)("i",{className:"fa fa-search search"})})]})})})}}]),s}(a.a.Component)),x="LlSYNgI-7ENc8EmHArpfRTuubr23UHpFcmuicwiTyg6UI3nM_ojuk0SLQ6xwT4mCMGdd8OiV75aQOrZcGMgp2qgxFJKY89tmB1mrpkzqWvn09Bk30YUPl099k8Z8YHYx",v=function(e,t){return fetch("https://desolate-headland-35675.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e,"&location=").concat(t,"&sort_by=review_count"),{headers:{Authorization:"Bearer ".concat(x)}}).then((function(e){if(e.ok)return e.json();throw new Error("Request was unsuccessful.")})).then((function(e){return e.businesses?e.businesses.map((function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,city:e.location.city,category:e.categories,rating:e.rating,reviewCount:e.review_count,price:e.price,url:e.url}})):null})).catch((function(e){console.log(e)}))},y=function(e){return fetch("https://desolate-headland-35675.herokuapp.com/https://api.yelp.com/v3/autocomplete?text=".concat(e),{headers:{Authorization:"Bearer ".concat(x)}}).then((function(e){if(e.ok)return e.json();throw new Error("Request was unsuccessful.")})).then((function(e){return e.terms?e.terms.map((function(e){return{term:e.text}})):null})).catch((function(e){return console.log(e)}))},g=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,c=arguments.length>3?arguments[3]:void 0;return fetch("https://desolate-headland-35675.herokuapp.com/https://api.yelp.com/v3/businesses/search?latitude=".concat(t,"&longitude=").concat(e,"&limit=").concat(s,"&sort_by=").concat(c),{headers:{Authorization:"Bearer ".concat(x)}}).then((function(e){if(e.ok)return e.json();throw new Error("Request was unsuccessful.")})).then((function(e){return e.businesses?e.businesses.map((function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,city:e.location.city,category:e.categories,rating:e.rating,reviewCount:e.review_count,price:e.price,url:e.url}})):null})).catch((function(e){console.log(e)}))},N=(s(19),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={businesses:[],termsList:[],hotBusinesses:[],longitude:"",latitude:""},c.yelpSearch=c.yelpSearch.bind(Object(h.a)(c)),c.yelpAutocomplete=c.yelpAutocomplete.bind(Object(h.a)(c)),c}return Object(o.a)(s,[{key:"yelpSearch",value:function(e,t){var s=this;v(e,t).then((function(e){s.setState({businesses:e})}))}},{key:"yelpAutocomplete",value:function(e){var t=this;y(e).then((function(e){t.setState({termsList:e})}))}},{key:"componentDidMount",value:function(){var e=this,t="",s="";navigator.geolocation.getCurrentPosition((function(c){t=c.coords.longitude,s=c.coords.latitude,g(t,s,3,"rating").then((function(t){e.setState({hotBusinesses:t})})),e.setState({longitude:t,latitude:s})}))}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"App-body",children:[Object(c.jsx)("div",{className:"hero-background",children:Object(c.jsx)("div",{className:"overlay",children:Object(c.jsxs)("div",{className:"vertical-center",children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{id:"yelp-logo",alt:"yelp logo",src:"https://s3-media0.fl.yelpcdn.com/assets/public/default@2x.yji-3e0b6fdd67576efda4390daddc35c8f1.png"})}),Object(c.jsx)("div",{children:Object(c.jsx)(f,{yelpSearch:this.yelpSearch,yelpAutocomplete:this.yelpAutocomplete,termsList:this.state.termsList,latitude:this.state.latitude,longitude:this.state.longitude})}),Object(c.jsx)("div",{id:"service-type-container",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/search?cflt=restaurants",className:"service-type-link",children:Object(c.jsxs)("span",{className:"service-type",children:[Object(c.jsx)("i",{className:"fas fa-hamburger  service-icon"}),"Restaurants"]})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/search?cflt=nightlife",className:"service-type-link",children:Object(c.jsxs)("span",{className:"service-type",children:[Object(c.jsx)("i",{className:"fa fa-glass  service-icon"}),"Nightlife"]})})}),Object(c.jsx)("li",{children:Object(c.jsxs)("span",{className:"service-type",children:[Object(c.jsx)("i",{className:"fa fa-wrench  service-icon"}),"Local Services"]})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/search?find_desc=Delivery",className:"service-type-link",children:Object(c.jsxs)("span",{className:"service-type",children:[Object(c.jsx)("i",{className:"fa fa-bicycle  service-icon"}),"Delivery"]})})}),Object(c.jsx)("li",{children:Object(c.jsxs)("span",{className:"service-type",children:[Object(c.jsx)("i",{className:"fa fa-home  service-icon"}),"Black Owned"]})})]})}),Object(c.jsxs)("div",{className:"photo-creds",children:[Object(c.jsx)("div",{children:Object(c.jsx)("span",{children:Object(c.jsx)("b",{children:Object(c.jsx)("a",{href:"https://unsplash.com/photos/N_Y88TWmGwA",className:"photo-creds-details",children:"Gourmet Meal and White Wine"})})})}),Object(c.jsx)("div",{children:Object(c.jsxs)("span",{children:["Photo by ",Object(c.jsx)("b",{children:Object(c.jsx)("a",{href:"https://unsplash.com/@jaywennington",className:"photo-creds-details",children:"Jay Wennington"})})]})})]})]})})}),Object(c.jsxs)("div",{className:"section",children:[Object(c.jsx)("div",{children:Object(c.jsx)("h3",{className:"yelp-color",children:"Welp Toronto"})}),Object(c.jsx)("div",{className:"locations",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/richmond-hill",className:"location",children:Object(c.jsx)("span",{className:"span-loc",children:"Richmond Hill"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/vancouver",className:"location",children:Object(c.jsx)("span",{className:"span-loc",children:"Vancouver"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/calgary",className:"location",children:Object(c.jsx)("span",{className:"span-loc",children:"Calgary"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/edmonton",className:"location",children:Object(c.jsx)("span",{className:"span-loc",children:"Edmonton"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/halifax",className:"location",children:Object(c.jsx)("span",{className:"span-loc",children:"Halifax"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/montreal",className:"location",children:Object(c.jsx)("span",{className:"span-loc",children:"Montreal"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://www.yelp.ca/locations",className:"location",children:Object(c.jsx)("span",{className:"span-loc",children:"More Cities"})})})]})})]}),Object(c.jsxs)("div",{className:"article",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("h4",{className:"yelp-color",children:["Hot ","&"," New Businesses"]})}),Object(c.jsx)("div",{children:Object(c.jsx)(p,{businesses:this.state.hotBusinesses})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{className:"yelp-color",children:"Search Results"}),Object(c.jsx)(p,{businesses:this.state.businesses})]})]})]})}}]),s}(a.a.Component)),k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,21)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("yelp-mockup-app")),k()}],[[20,1,2]]]);
//# sourceMappingURL=main.9785d42d.chunk.js.map