(this["webpackJsonpshopify-challenge-winter"]=this["webpackJsonpshopify-challenge-winter"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(9),r=n.n(c),s=(n(14),n(8)),o=n(2),l=n(0),d=function(e){return Object(l.jsxs)("div",{className:"image-container",children:[Object(l.jsx)("div",{children:"video"===e.mediaType?Object(l.jsx)("iframe",{width:"420",height:"315",src:e.src,title:"Astronomer Photo of the day"}):Object(l.jsx)("img",{src:e.src,alt:e.title})}),Object(l.jsxs)("div",{className:"image-details",children:[Object(l.jsx)("h4",{children:e.title}),e.explanation&&Object(l.jsx)("p",{children:e.explanation}),Object(l.jsx)("span",{className:"image-date",children:e.date}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(t){e.handleClick(e.id),t.target.classList.toggle("like-animation")},className:"like-button",children:Object(l.jsx)("i",{className:"fa fa-heart like-icon",style:{color:e.liked?"red":"black"}})})})]})]})};d.defaultProps={date:"0000-00-00",explanation:"",id:0,liked:!1,mediaType:"image",src:"",title:"N/A"};var u=d,j=function(e){return Object(l.jsxs)("div",{className:"loading-icons",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})},p=function(e){return Object(l.jsx)("div",{className:"image-list-container",children:e.loading?Object(l.jsx)(j,{}):e.images?e.images.map((function(t){return Object(l.jsx)(u,{date:t.date,id:t.id,liked:t.liked,handleClick:e.handleClick,src:t.src,title:t.title,mediaType:t.mediaType,explanation:t.explanation},t.id)})):"No images to display."})},h=n(4),b=n.n(h),f=n(7),x="Vx2kOByjIigZINtDhkxNLa705MTH5oLuftzNMLiw",O=new Date,m=O.getFullYear(),g=O.getMonth()||1,v=O.getDate()-7,k="".concat(m,"-").concat(g,"-").concat(v),y={retrieveMrp:function(){var e=Object(f.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=".concat(k,"&page=1&api_key=").concat(x));case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n.photos&&n.photos.length?n.photos.map((function(e){return{title:e.camera.full_name,id:e.id,date:e.earth_date,liked:!1,src:e.img_src}})):[]);case 9:return e.abrupt("return",{});case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),retrieveAPOD:function(){var e=Object(f.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.nasa.gov/planetary/apod?api_key=".concat(x));case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n?{title:n.title,date:n.date,src:n.url,mediaType:n.media_type,liked:!1,id:97112111100,explanation:n.explanation}:{});case 9:return e.abrupt("return",{});case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},N=(n(17),function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),r=Object(o.a)(c,2),d=r[0],h=r[1],b=Object(a.useState)([]),f=Object(o.a)(b,2),x=f[0],O=f[1],m=Object(a.useState)([]),g=Object(o.a)(m,2),v=g[0],k=g[1],N=Object(a.useState)(!1),w=Object(o.a)(N,2),P=w[0],A=w[1],T=function(e){var t=97112111100===e?n:x.find((function(t){return t.id===e}));v.find((function(t){return t.id===e}))?(t.liked=!1,k(Object(s.a)(v.filter((function(t){return t.id!==e}))))):(t.liked=!0,k([].concat(Object(s.a)(v),[t])))};return Object(a.useEffect)((function(){h(!0),y.retrieveAPOD().then((function(e){h(!1),i(e)})),A(!0),y.retrieveMrp().then((function(e){A(!1),O(e)}))}),[]),Object(l.jsxs)("div",{className:"app-body",children:[Object(l.jsxs)("div",{className:"app-heading",children:[Object(l.jsx)("h1",{children:"Spacestagram"}),Object(l.jsx)("span",{children:"Images courtesy of NASA's Mars Rover Photos API and Astronomy Photo of the Day API"})]}),Object(l.jsxs)("div",{className:"apod",children:[Object(l.jsx)("h2",{children:"APOD"}),d?Object(l.jsx)(j,{}):Object(l.jsx)(u,{handleClick:T,date:n.date,id:n.id,liked:n.liked,src:n.src,title:n.title,mediaType:n.mediaType,explanation:n.explanation})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Mars Rover Photos"}),Object(l.jsx)(p,{images:x,handleClick:T,loading:P})]})]})}),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("shopify-winter-challenge-app")),w()}},[[18,1,2]]]);
//# sourceMappingURL=main.19b27329.chunk.js.map