(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{17:function(t,e,a){},18:function(t,e,a){},20:function(t,e,a){},21:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(1),c=a.n(i),s=a(5),o=a.n(s),r=(a(17),a(6)),d=a(7),h=a(2),l=a(11),f=a(10),m=(a(18),a(4),a(8),"pk.622a845b4757d6cf38c5280a1c036797"),u=function(t){return fetch("https://cors-anywhere.herokuapp.com/https://us1.locationiq.com/v1/search.php?key=".concat(m,"&q=").concat(t,"&format=json"),{headers:{Authorization:"Bearer ".concat(m)}}).then((function(t){if(t.ok)return t.json()})).then((function(t){return t?{lat:t[0].lat,lon:t[0].lon}:{}}))},j=a(9),y=(a(20),function(t){var e=Object(i.useState)(""),a=Object(j.a)(e,2),c=a[0],s=a[1];return Object(n.jsxs)("div",{className:"search-container",children:[Object(n.jsx)("i",{className:"fa fa-search icon"}),Object(n.jsx)("input",{value:c,placeholder:"Enter City...",onChange:function(t){s(t.target.value)},className:"search-bar",onKeyPress:function(e){13===e.which&&t.handleSearch(c)}})]})}),p=a.p+"../images/snow.a27a4276.jfif",b=a.p+"../images/clear.e2e3af24.jfif",g=a.p+"../images/cloudy.e32e2afe.jfif",x=a.p+"../images/rain.96c6be2b.jfif";console.log(1);var v=function(t){Object(l.a)(a,t);var e=Object(f.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={temperature:"",city:"",condition:"",time:"",imageUrl:b,color:"#fff",firstDay:{},secondDay:{},thirdDay:{},fourthDay:{},fifthDay:{},lat:"",lon:""},n.setCondition=n.setCondition.bind(Object(h.a)(n)),n.clock=n.clock.bind(Object(h.a)(n)),n.setBackground=n.setBackground.bind(Object(h.a)(n)),n.handleForecast=n.handleForecast.bind(Object(h.a)(n)),n.handleSearch=n.handleSearch.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"setCondition",value:function(t){this.setState({condition:t})}},{key:"clock",value:function(){var t=(new Date).toLocaleTimeString();this.setState({time:t})}},{key:"setBackground",value:function(){switch(this.state.condition){case"Clouds":this.setState({imageUrl:g,color:"#fff"});break;case"Clear":this.setState({imageUrl:b,color:"#fff"});break;case"Snow":this.setState({imageUrl:p,color:"#000"});break;case"Rain":this.setState({imageUrl:x,color:"#fff"});break;default:this.setState({imageUrl:b})}}},{key:"getMinTemp",value:function(t){for(var e=Number.MAX_VALUE,a=0;a<8;a++)t[a].main.temp<e&&(e=t[a].main.temp);return e}},{key:"getMaxTemp",value:function(t){for(var e=0,a=0;a<8;a++)t[a].main.temp>e&&(e=t[a].main.temp);return e}},{key:"getCondition",value:function(t){var e,a={},n=0;for(var i in t)a[t[i].weather[0].main]=(a[t[i].weather[0].main]||0)+1,a[t[i].weather[0].main]>n&&(n=a[t[i].weather[0].main],e=t[i].weather[0].main);return e}},{key:"handleForecast",value:function(t,e){var a=this;t&&e&&function(t,e){return fetch("https://community-open-weather-map.p.rapidapi.com/forecast?units=metric&lat=".concat(e,"&lon=").concat(t),{method:"GET",headers:{"x-rapidapi-key":"2374eea181msha6400f3c7ae0a84p1498bejsnf11abe35d8b7","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}}).then((function(t){if(t.ok)return t.json();throw new Error("Request was not successful.")})).then((function(t){return t.city?{city:t.city.name,forecasts:t.list}:null})).catch((function(t){console.error(t)}))}(t,e).then((function(t){a.setState({city:t.city,temperature:Math.floor(t.forecasts[0].main.temp),condition:t.forecasts[0].weather[0].main,firstDay:{max:Math.floor(a.getMaxTemp(t.forecasts.slice(0,8))),min:Math.floor(a.getMinTemp(t.forecasts.slice(0,8))),condition:a.getCondition(t.forecasts.slice(0,8))},secondDay:{max:Math.floor(a.getMaxTemp(t.forecasts.slice(8,16))),min:Math.floor(a.getMinTemp(t.forecasts.slice(8,16))),condition:a.getCondition(t.forecasts.slice(8,16))},thirdDay:{max:Math.floor(a.getMaxTemp(t.forecasts.slice(16,24))),min:Math.floor(a.getMinTemp(t.forecasts.slice(16,24))),condition:a.getCondition(t.forecasts.slice(16,24))},fourthDay:{max:Math.floor(a.getMaxTemp(t.forecasts.slice(24,32))),min:Math.floor(a.getMinTemp(t.forecasts.slice(24,32))),condition:a.getCondition(t.forecasts.slice(24,32))},fifthDay:{max:Math.floor(a.getMaxTemp(t.forecasts.slice(32,40))),min:Math.floor(a.getMinTemp(t.forecasts.slice(32,40))),condition:a.getCondition(t.forecasts.slice(32,40))}})})).catch((function(t){return console.log(t)}))}},{key:"handleSearch",value:function(t){var e=this;u(t).then((function(t){e.handleForecast(t.lon,t.lat)}))}},{key:"componentDidMount",value:function(){var t=this;this.myClock=setInterval(this.clock,0),navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.longitude,n=e.coords.latitude;t.handleForecast(a,n)}));var e=new Date,a=e.getFullYear(),n=e.getMonth(),i=e.getDate();document.getElementById("first-day").innerHTML=new Date(a,n,i+1).toLocaleString("en-us",{weekday:"long"}),document.getElementById("second-day").innerHTML=new Date(a,n,i+2).toLocaleString("en-us",{weekday:"long"}),document.getElementById("third-day").innerHTML=new Date(a,n,i+3).toLocaleString("en-us",{weekday:"long"}),document.getElementById("fourth-day").innerHTML=new Date(a,n,i+4).toLocaleString("en-us",{weekday:"long"}),document.getElementById("fifth-day").innerHTML=new Date(a,n,i+5).toLocaleString("en-us",{weekday:"long"})}},{key:"componentDidUpdate",value:function(t,e){e.condition!==this.state.condition&&this.setBackground()}},{key:"componentWillUnmount",value:function(){clearInterval(this.myClock)}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"body",style:{color:this.state.color,backgroundImage:"url(".concat(this.state.imageUrl,")")},children:Object(n.jsxs)("main",{children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("span",{id:"clock",children:this.state.time}),Object(n.jsx)(y,{handleSearch:this.handleSearch})]}),Object(n.jsxs)("div",{id:"weather-info",children:[Object(n.jsx)("div",{children:Object(n.jsx)("span",{id:"temperature",children:this.state.temperature&&"".concat(this.state.temperature,"\xb0")})}),Object(n.jsx)("div",{children:Object(n.jsx)("span",{id:"city",children:this.state.city})}),Object(n.jsx)("div",{children:this.state.condition})]}),Object(n.jsxs)("div",{id:"days",children:[Object(n.jsxs)("div",{className:"day",children:[Object(n.jsx)("span",{id:"first-day"}),Object(n.jsx)("div",{children:this.state.firstDay.max&&"".concat(this.state.firstDay.max,"\xb0/ \n                    ").concat(this.state.firstDay.min,"\xb0")}),Object(n.jsx)("div",{children:this.state.firstDay.condition})]}),Object(n.jsxs)("div",{className:"day",children:[Object(n.jsx)("span",{id:"second-day"}),Object(n.jsx)("div",{children:this.state.secondDay.max&&"".concat(this.state.secondDay.max,"\xb0/\n                    ").concat(this.state.secondDay.min,"\xb0")}),Object(n.jsx)("div",{children:this.state.secondDay.condition})]}),Object(n.jsxs)("div",{className:"day",children:[Object(n.jsx)("span",{id:"third-day"}),Object(n.jsx)("div",{children:this.state.thirdDay.max&&"".concat(this.state.thirdDay.max,"\xb0/\n                    ").concat(this.state.thirdDay.min,"\xb0")}),Object(n.jsx)("div",{children:this.state.thirdDay.condition})]}),Object(n.jsxs)("div",{className:"day",children:[Object(n.jsx)("span",{id:"fourth-day"}),Object(n.jsx)("div",{children:this.state.fourthDay.max&&"".concat(this.state.fourthDay.max,"\xb0/\n                    ").concat(this.state.fourthDay.min,"\xb0")}),Object(n.jsx)("div",{children:this.state.fourthDay.condition})]}),Object(n.jsxs)("div",{className:"day",children:[Object(n.jsx)("span",{id:"fifth-day"}),Object(n.jsx)("div",{children:this.state.fifthDay.max&&"".concat(this.state.fifthDay.max,"\xb0/ \n                    ").concat(this.state.fifthDay.min,"\xb0")}),Object(n.jsx)("div",{children:this.state.fifthDay.condition})]})]})]})})}}]),a}(c.a.Component),O=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,22)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,c=e.getLCP,s=e.getTTFB;a(t),n(t),i(t),c(t),s(t)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("weather-app")),O()}},[[21,1,2]]]);
//# sourceMappingURL=main.2d8e01a3.chunk.js.map